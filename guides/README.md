# Ръководство за opendata-cms

Този проект е базиран на популярния [WordPress](https://wordpress.org/), като добавя собствена визуална тема, интегрираща се с дизайна на националния портал за отворени данни. Темата е с дизайн, който се адаптира по подходящ начин за мобилни устройства.

WordPress е пълноправна и мощна система за управление на съдържание (content management system), която има интуитивен административен панел. От там може да се управлява както цялото съдържание, така и много от визуалните и навигационни елементи на сайта.

В този документ ще намерите:
- [Съдържание](#content)
	- [Видове съдържание](#content-types)
	- [Възможности за категоризация](#taxonomies-and-ordering)
	- [Менюта](#menus)
	- [Странични ленти и джаджи](#sidebars-and-widgets)
- [Визия](#appearance)
	- [Теми](#themes)
- [Потребители](#users)
- [Разширения](#plugins)
- [Добри практики и съвети](#best-practices)

<a name="content"></a>
## Съдържание

Основната сила на WordPress са инструментите, които дава за управление на съдържание. Съдържанието има семпла структура и организация.

<a name="content-types"></a>
### Видове съдържание

- [Публикации](posts-and-pages.md). Обичайно основният тип съдържание, публикациите се подреждат в обратно хронологичен ред на главната страница или на специална 'blog' страница. Могат да бъдат структурирани чрез таксономиите - категории и етикети.
- Страници. Статично съдържание, което не е подредено по дата. Типичен пример са страници като 'за нас' и 'контакти'. Могат да бъдат подреждани йерархично(подстраници), но не могат да използват категории и етикети.
- Файлове. Всички медия файлове, които биват прикачени към публикации или страници, в това число изображения, документи(pdf, doc) и тн.
- Коментари. Eдинственият вид съдържание, който може да се създава от обикновени потребители, опционално и от нерегистрирани такива. Коментарите могат да бъдат изключени глобално и включвани в частни случай(конкретни публикации) или глобално включени. Също така могат да изискват модерация от администратор, или пък да бъдат автоматично публикувани.

<a name="taxonomies-and-ordering"></a>
### Възможности за категоризация

- Йерархия от категории(Само публикации). Всяка публикация може да бъде категоризирана в определена категория, като всяка категория може да има неограничен брой подкатегории. Няма ограничение на броя категории, в които може да бъде конкретна публикация.
- Етикети(Само публикации) Освен в категории, публикациите могат да имат и етикети. Етикетите имат плоска(нейерархична структура). Няма ограничение на броя етикети за конкретна публикация.
- Йерархия от страници(Само страници). Всяка страница може да има неограничен брой подстраници. *Това обаче не винаги е видимо в темата на сайта*

<a name="menus"></a>
### [Менюта](menus.md)

- Меню локации и менюта

	Менютата представляват списък от връзки, които се използват за навигация на сайта. Всяко меню се помещава в 'меню локация', която се определя от темата.
	- Локации - Меню локациите се определят от темата, и могат да помещават всяко от създадените вече менюта. Локациите могат да бъдат с разнообразни имена и на вякакви местоположения в темата, често срещани примери са 'Главно меню, футър меню, допълнително меню(обичайно най-горе в хедъра на сайта)'. Това са просто **локации**, в които можем да сложим менюта, сами по себе си не съдържат нищо. Добавянето на конкретно меню в дадена локация се случва с отмятане на опцията най-долу при създаване на меню.
	- Менюта - Менютата са списък от връзки, които могат да бъдат пренареждани и подреждани йерархично в подменюта, чрез редактора на менюта на Wordpress. Редакторът на менюта се намира във ```Външен вид > Менюта``` в Администраторското табло на WordPress.

<a name="sidebars-and-widgets"></a>
### [Странични ленти и джаджи](sidebars.md)

- Странични ленти и джаджи
	- Странични ленти - Повечето WordPress теми разполагат с една или повече странични ленти, които обичайно могат да бъдат разполагани от ляво или от дясно. Страничните ленти съдържат *джаджи*
	- Джаджи - Малки модулчета, които могат да добавят разнообразни функционалности към сайта Ви(Последни публикации, Списък от страници, Търсачка, календар и тн.). Джаджите се помещават в страничните ленти и могат да бъдат свободно добавяни и пренареждани в страницата с настройки за джаджи - ```Външен вид > Джаджи```. В лявата част на екрана се намират всички налични джаджи, които могат да бъдат използвани, а в дясната - страничните ленти, в които могат да бъдат поставяни.

<a name="appearance"></a>
## Визия
- Разделение на съдържание и визия.
	- **Съдържание** наричаме информацията, съществуването на която не зависи по никакъв начин от темата на сайта. *напр. публикации, менюта, файлове*
	- **Визия** наричаме подредбата на съдържанието. Тя зависи изцяло от темата на сайта. *напр. локации за менютата, цветови настройки, позиции на странични ленти и тн.*

<a name="themes"></a>
### Теми

Темите могат да променят всеки аспект от визията на сайта, включително подредбата на съдържанието, местоположенията на менютата, наличие/местоположение на страничните ленти и тн.

`Opendata-wp` - Темата, която се използва в информационнията секция към [Портала за отворени данни на Република България](http://opendata.government.bg). Темата е базирана на [FoundationPress](https://github.com/olefredrik/FoundationPress), и е създадена в съответствие с визията на Портала.

<a name="users"></a>
## Потребители

WordPress идва с напълно разработена система за потребители, с различни роли:

- Администратор, с пълни права.
- Редактор – може да редактира и управлява публикации.
- Автор – може да публикува собствените си публикации.
- Сътрудник – може да пише публикации, но не може да ги публикува.
- Потребител – обикновено може само да оставя коментари или да се абонира за известия за коментари по определени публикации.

По желание, регистрацията може да бъде отворена за всички потребители и да се избере с каква роля биват създавани те по подразбиране (обикновено потребител). Първоначалната настройка е регистрацията на външни потребители да е забранена и само администраторите да могат да добавят нови потребители през административния интерфейс.

<a name="plugins"></a>
## Разширения (plugins)
- Инсталация през административната част.
	Разширенията могат да бъдат управлявани в страницата ```Разширения``` на административното табло. Инсталирането на нови разширения се случва чрез бутона `Добавяне на още`, в горната част на страницата. Това ще отвори директорията с налични за инсталиране разширения, както и списъци с 'Избрани', 'Популярни', 'Препоръчани' и 'Любими' разширения.

- Обновяване и бележки за сигурността.
	- Преди обновяване на разширения, теми, или(особено) WordPress ядрото, е силно препоръчително да се направи резервно копие(бекъп) на базата данни и файловете на сайта, в случай на несъвместимост на версии или друг неочакван проблем.
	- Инсталирането на разширения и теми от неофициални източници не е препоръчително. Интерфейсите за инсталиране на теми и разширения през администраторският панел използва wordpress.org директориите за теми/разширения. Същите директории могат да бъдат достъпени извън администраторския панел на [wordpress.org/themes/](http://wordpress.org/themes) за теми и [wordpress.org/plugins](http://wordpress.org/plugins) за разширения. Това е най-сигурният източник на разширения и теми.
	- Въпреки че всички разширения и теми в wordpress.org преминават различни тестове, преди да бъдат публикувани, винаги четете ревютата и коментарите под тях, за да разберете за потенциални несъвместимости и други проблеми.

<a name="best-practices"></a>
## Добри практики и съвети

- Обновяване на сайта, разширения, теми:

	Обновяването на теми, разширения и WordPress ядрото, често не изисква нищо различно от натискане на бутона 'обнови'. Случва се обаче да се появят несъвместимости между теми/разширения/WordPress, което да доведе до частично счупен или напълно неизползваем сайт след обновяването. Затова е изключително важно да се създава резервно копие(бекъп) на базата данни/файловете, така че да може да се върне лесно и бързо в случай на проблем. Дори и всичко да изглежда наред след обновленията, е силно препоръчително да се отдели време, за тестване на всички функционалности на сайта, за уверяване че всичко работи както се очаква.

- Добри "alt" и "title" атрибути на изображения (описателни, на кирилица).

- Подходящи slugs (кратки имена на страниците и публикациите, които се показват в URL-адреса). На латиница, с малки букви и тирета, на английски, или на транслитериран български. Например `new-open-data-publishing-guidelines`.
